# üîß AppGET - Configuration d'Environnement
# Copiez ce fichier vers .env et modifiez les valeurs selon votre environnement

# ==============================================
# üêç DJANGO CONFIGURATION
# ==============================================

# Mode debug (1 pour d√©veloppement, 0 pour production)
DEBUG=1

# Cl√© secr√®te Django (CHANGEZ CETTE VALEUR EN PRODUCTION!)
SECRET_KEY=your-very-long-secret-key-change-this-in-production-at-least-50-characters

# Hosts autoris√©s (s√©par√©s par des virgules)
ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com,www.yourdomain.com

# Origines CSRF de confiance (pour HTTPS)
CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ==============================================
# üóÑÔ∏è BASE DE DONN√âES
# ==============================================

# URL de connexion √† la base de donn√©es
# PostgreSQL (Production recommand√©e)
DATABASE_URL=postgresql://appget_user:your_db_password@localhost:5432/appget_db

# SQLite (D√©veloppement uniquement)
# DATABASE_URL=sqlite:///db.sqlite3

# Configuration PostgreSQL s√©par√©e
POSTGRES_DB=appget_db
POSTGRES_USER=appget_user
POSTGRES_PASSWORD=your_strong_database_password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# ==============================================
# üöÄ REDIS (Cache et T√¢ches)
# ==============================================

# URL Redis pour le cache et Celery
REDIS_URL=redis://localhost:6379/0

# Configuration Celery
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ==============================================
# üìß CONFIGURATION EMAIL
# ==============================================

# Backend email (console pour dev, smtp pour prod)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# Configuration SMTP (pour production)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=1
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# Email par d√©faut de l'exp√©diteur
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# ==============================================
# üîí S√âCURIT√â
# ==============================================

# Protection XSS
SECURE_BROWSER_XSS_FILTER=1

# Protection contre le sniffing de type MIME
SECURE_CONTENT_TYPE_NOSNIFF=1

# Protection contre les frames
X_FRAME_OPTIONS=DENY

# HSTS (HTTP Strict Transport Security)
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=1
SECURE_HSTS_PRELOAD=1

# Cookies s√©curis√©s (uniquement pour HTTPS)
SECURE_SSL_REDIRECT=0
SESSION_COOKIE_SECURE=0
CSRF_COOKIE_SECURE=0

# ==============================================
# üìÑ PARAM√àTRES PDF EXPORT
# ==============================================

# Taille maximale des fichiers PDF (en MB)
PDF_MAX_FILE_SIZE_MB=50

# R√©tention des fichiers PDF (en jours)
PDF_RETENTION_DAYS=7

# Nombre maximum de pages par document
PDF_MAX_PAGES=500

# Jobs PDF simultan√©s maximum
PDF_MAX_CONCURRENT_JOBS=5

# Qualit√© des images dans les PDF (1-100)
PDF_IMAGE_QUALITY=85

# Niveau de compression (1-9)
PDF_COMPRESSION_LEVEL=6

# ==============================================
# üîî PARAM√àTRES NOTIFICATIONS
# ==============================================

# Activer les notifications email
NOTIFICATIONS_EMAIL_ENABLED=1

# Activer les notifications push (WebPush)
NOTIFICATIONS_PUSH_ENABLED=1

# Taille des lots pour les notifications en masse
NOTIFICATIONS_BATCH_SIZE=100

# R√©tention des notifications (en jours)
NOTIFICATIONS_RETENTION_DAYS=30

# ==============================================
# üìÖ PARAM√àTRES ABSENCES
# ==============================================

# Nombre maximum d'absences non justifi√©es
ABSENCE_MAX_UNJUSTIFIED=3

# Pourcentage maximum d'absences totales
ABSENCE_MAX_TOTAL_PERCENTAGE=25.0

# D√©lai pour justifier une absence (en heures)
ABSENCE_JUSTIFICATION_DEADLINE_HOURS=48

# D√©lai pour demander un rattrapage (en jours)
ABSENCE_MAKEUP_DEADLINE_DAYS=7

# Auto-approbation des absences m√©dicales
ABSENCE_AUTO_APPROVE_MEDICAL=0

# ==============================================
# üéì PARAM√àTRES NOTES
# ==============================================

# √âchelle de notation par d√©faut
GRADE_SCALE_DEFAULT=french_20

# Note minimale pour valider un cours
GRADE_PASSING_THRESHOLD=10.0

# Autoriser les notes n√©gatives
GRADE_ALLOW_NEGATIVE=0

# Arrondi des moyennes (nombre de d√©cimales)
GRADE_AVERAGE_DECIMALS=2

# ==============================================
# üåê PARAM√àTRES FRONTEND
# ==============================================

# URL de base de l'API (pour le frontend)
VITE_API_BASE_URL=http://127.0.0.1:8000

# URL WebSocket (pour les notifications temps r√©el)
VITE_WS_URL=ws://127.0.0.1:8000/ws

# Timeout pour les requ√™tes API (ms)
VITE_API_TIMEOUT=30000

# Intervalle de rafra√Æchissement des notifications (ms)
VITE_NOTIFICATION_REFRESH_INTERVAL=30000

# ==============================================
# üîß PARAM√àTRES D√âVELOPPEMENT
# ==============================================

# Activer le toolbar de debug Django
DJANGO_DEBUG_TOOLBAR=1

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# R√©pertoire des logs
LOG_DIR=logs

# Activer le profiling des requ√™tes lentes
ENABLE_QUERY_PROFILING=0

# ==============================================
# üê≥ PARAM√àTRES DOCKER
# ==============================================

# Port d'exposition du backend
BACKEND_PORT=8000

# Port d'exposition du frontend
FRONTEND_PORT=5173

# Port PostgreSQL
POSTGRES_PORT_EXPOSE=5432

# Port Redis
REDIS_PORT_EXPOSE=6379

# ==============================================
# ‚òÅÔ∏è PARAM√àTRES CLOUD (Optionnel)
# ==============================================

# AWS S3 pour les fichiers media (optionnel)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_STORAGE_BUCKET_NAME=your_bucket_name
# AWS_S3_REGION_NAME=eu-west-1

# Sentry pour le monitoring d'erreurs (optionnel)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project

# ==============================================
# üìä PARAM√àTRES MONITORING
# ==============================================

# Activer les m√©triques Prometheus
ENABLE_PROMETHEUS_METRICS=0

# URL Grafana (pour les dashboards)
# GRAFANA_URL=http://localhost:3000

# Token API pour les alertes
# MONITORING_API_TOKEN=your_monitoring_token

# ==============================================
# üöÄ PARAM√àTRES PRODUCTION
# ==============================================

# Nombre de workers Gunicorn
GUNICORN_WORKERS=4

# Timeout Gunicorn
GUNICORN_TIMEOUT=300

# Max requests par worker
GUNICORN_MAX_REQUESTS=1000

# Activer la compression gzip
ENABLE_GZIP=1

# Activer le cache statique
ENABLE_STATIC_CACHE=1

# ==============================================
# üìù NOTES IMPORTANTES
# ==============================================

# 1. CHANGEZ TOUJOURS SECRET_KEY en production
# 2. Utilisez des mots de passe forts pour la base de donn√©es
# 3. Activez HTTPS en production (SECURE_SSL_REDIRECT=1)
# 4. Configurez un vrai serveur email (pas console)
# 5. Utilisez Redis en production pour de meilleures performances
# 6. Sauvegardez r√©guli√®rement votre base de donn√©es
# 7. Surveillez les logs en production
# 8. Mettez √† jour r√©guli√®rement les d√©pendances

# ==============================================
# üÜò SUPPORT
# ==============================================

# En cas de probl√®me :
# 1. V√©rifiez les logs : docker-compose logs -f
# 2. Consultez la documentation : NOUVELLES_FONCTIONNALITES.md
# 3. Ex√©cutez les tests : python validate_features.py
# 4. Contactez le support : support@appget.com
